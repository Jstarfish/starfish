<!DOCTYPE html>
<html>

	<head>
		<!-- Standard Meta -->
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<!-- Vendor Specific -->
		<!-- Set renderer engine for 360 browser -->
		<meta name="renderer" content="webkit">

		<!-- Cache Meta -->
		<meta http-equiv="Expires" content="0">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Pragma" content="no-cache">

		<!-- Style Sheet -->
		<link rel="stylesheet" href="lib/jquery/jquery-ui.css" />
		<link rel="stylesheet" href="lib/qtip/jquery.qtip.css" />
		<link rel="stylesheet" href="css/common/basic.css" />
		<link rel="stylesheet" href="css/libext/jquery.ext.css" />
		<link rel="stylesheet" href="css-app/app.css" />

		<!--[if lt IE 9]>
		<script type="text/javascript" src="js/html5/html5shiv.js"></script>
		<![endif]-->

		<!-- script here -->
		<script type="text/javascript" src="lib/jquery/jquery.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery-migrate.min.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery-ui.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery.locale-cn.js"></script>
		<script type="text/javascript" src="lib/qtip/jquery.qtip.js"></script>
		<script type="text/javascript" src="lib/layer/layer.js"></script>
		<script type="text/javascript" src="lib/layer/extend/layer.ext.js"></script>
		<script type="text/javascript" src="js/common/laytpl.js"></script>
		<script type="text/javascript" src="js/common/common.js"></script>
		<script type="text/javascript" src="js/libext/layer.ext.js"></script>
		<script type="text/javascript" src="js/libext/jquery.ext.js"></script>
		<script type="text/javascript" src="lib/jquery/jquery.superslide.js"></script>
		<script type="text/javascript" src="js-app/app.js"></script>

		<title>日期 js 函数演示</title>

		<style type="text/css">

		</style>
	</head>

	<body>

		<textarea id="logit" style="width:100%;height:600px;"></textarea>

		<script type="text/javascript">
			//生成函数调用脚本（函数名称，参数数组）
			//demox("x", {"x" : 5, "y" : 6})
			function makeFuncCallScript(funcName, args) {
				var sb = String.builder();
				sb.append(funcName);
				sb.append("(");
				//
				if (args == null) {
					args = [];
				} else if (isPlainObject(args)) {
					args = [args];
				}
				for (var i = 0; i < args.length; i++) {
					var arg = args[i];
					var argStr = isFunction(arg) ? objToJsonStr(getFuncName(arg)) : objToJsonStr(arg);
					if (i > 0) {
						sb.append(", ");
					}
					sb.append(argStr);
				}
				sb.append(");");
				//
				$id("logit").val(sb.value);
				return sb.value;
			}

			function evalJS(script) {
				window.eval(script);
			}

			function funcx() {
				console.log("这是一个函数");
			}

			function demox(x1, x2, x3, x4, x5, x6, x7) {
				var sb = String.builder();
				sb.appendln();
				sb.appendln("-----------------------------");
				//
				sb.appendln(x1);
				sb.appendln(x2);
				sb.appendln(x3);
				sb.appendln(x4);
				sb.appendln(x5);
				sb.appendln(x6);
				sb.appendln(x7);
				$id("logit").val($id("logit").val() + sb.value);
			}
			var args = ["xxx", new Date(), false, null, 32.4, {
				x: 5,
				y: 6
			}, funcx];
			//
			var script = makeFuncCallScript("demox", args);
			evalJS(script);
			
			//当前页面url
			var urlParams = extractUrlParams();
			console.log(urlParams);
			urlParams = extractUrlParams(true);
			console.log(urlParams);
			//指定页面url
			var url = "http://blog.csdn.net/luqin1988/article/details/7878053?x=%E6%98%AF%E4%BB%80%E4%B9%88";
			urlParams = extractUrlParams(url);
			console.log(urlParams);
			urlParams = extractUrlParams(url, true);
			console.log(urlParams);
			
		</script>
	</body>

</html>